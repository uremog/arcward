import{a as d,j as e,aV as L,a2 as re}from"./chunk-B7RQU5TL-vUsKMHXo.js";import{a as v,u as ne,c as w,P as F,b as i,C as E,R as p}from"./Row-BQaat_U0.js";const $=d.forwardRef(({as:s,bsPrefix:r,variant:n="primary",size:a,active:l=!1,disabled:t=!1,className:o,...c},m)=>{const x=v(r,"btn"),[u,{tagName:N}]=ne({tagName:s,disabled:t,...c}),j=N;return e.jsx(j,{...u,...c,ref:m,disabled:t,className:w(o,x,l&&"active",n&&`${x}-${n}`,a&&`${x}-${a}`,c.href&&t&&"disabled")})});$.displayName="Button";function te(s,r){return d.Children.toArray(s).some(n=>d.isValidElement(n)&&n.type===r)}const ae={type:F.string,tooltip:F.bool,as:F.elementType},T=d.forwardRef(({as:s="div",className:r,type:n="valid",tooltip:a=!1,...l},t)=>e.jsx(s,{...l,ref:t,className:w(r,`${n}-${a?"tooltip":"feedback"}`)}));T.displayName="Feedback";T.propTypes=ae;const k=d.createContext({}),M=d.forwardRef(({id:s,bsPrefix:r,className:n,type:a="checkbox",isValid:l=!1,isInvalid:t=!1,as:o="input",...c},m)=>{const{controlId:x}=d.useContext(k);return r=v(r,"form-check-input"),e.jsx(o,{...c,ref:m,type:a,id:s||x,className:w(n,r,l&&"is-valid",t&&"is-invalid")})});M.displayName="FormCheckInput";const b=d.forwardRef(({bsPrefix:s,className:r,htmlFor:n,...a},l)=>{const{controlId:t}=d.useContext(k);return s=v(s,"form-check-label"),e.jsx("label",{...a,ref:l,htmlFor:n||t,className:w(r,s)})});b.displayName="FormCheckLabel";const G=d.forwardRef(({id:s,bsPrefix:r,bsSwitchPrefix:n,inline:a=!1,reverse:l=!1,disabled:t=!1,isValid:o=!1,isInvalid:c=!1,feedbackTooltip:m=!1,feedback:x,feedbackType:u,className:N,style:j,title:h="",type:f="checkbox",label:R,children:g,as:z="input",...O},P)=>{r=v(r,"form-check"),n=v(n,"form-switch");const{controlId:_}=d.useContext(k),ee=d.useMemo(()=>({controlId:s||_}),[_,s]),D=!g&&R!=null&&R!==!1||te(g,b),se=e.jsx(M,{...O,type:f==="switch"?"checkbox":f,ref:P,isValid:o,isInvalid:c,disabled:t,as:z});return e.jsx(k.Provider,{value:ee,children:e.jsx("div",{style:j,className:w(N,D&&r,a&&`${r}-inline`,l&&`${r}-reverse`,f==="switch"&&n),children:g||e.jsxs(e.Fragment,{children:[se,D&&e.jsx(b,{title:h,children:R}),x&&e.jsx(T,{type:u,tooltip:m,children:x})]})})})});G.displayName="FormCheck";const I=Object.assign(G,{Input:M,Label:b}),X=d.forwardRef(({bsPrefix:s,type:r,size:n,htmlSize:a,id:l,className:t,isValid:o=!1,isInvalid:c=!1,plaintext:m,readOnly:x,as:u="input",...N},j)=>{const{controlId:h}=d.useContext(k);return s=v(s,"form-control"),e.jsx(u,{...N,type:r,size:a,ref:j,readOnly:x,id:l||h,className:w(t,m?`${s}-plaintext`:s,n&&`${s}-${n}`,r==="color"&&`${s}-color`,o&&"is-valid",c&&"is-invalid")})});X.displayName="FormControl";const le=Object.assign(X,{Feedback:T}),J=d.forwardRef(({className:s,bsPrefix:r,as:n="div",...a},l)=>(r=v(r,"form-floating"),e.jsx(n,{ref:l,className:w(s,r),...a})));J.displayName="FormFloating";const S=d.forwardRef(({controlId:s,as:r="div",...n},a)=>{const l=d.useMemo(()=>({controlId:s}),[s]);return e.jsx(k.Provider,{value:l,children:e.jsx(r,{...n,ref:a})})});S.displayName="FormGroup";const H=d.forwardRef(({as:s="label",bsPrefix:r,column:n=!1,visuallyHidden:a=!1,className:l,htmlFor:t,...o},c)=>{const{controlId:m}=d.useContext(k);r=v(r,"form-label");let x="col-form-label";typeof n=="string"&&(x=`${x} ${x}-${n}`);const u=w(l,r,a&&"visually-hidden",n&&x);return t=t||m,n?e.jsx(i,{ref:c,as:"label",className:u,htmlFor:t,...o}):e.jsx(s,{ref:c,className:u,htmlFor:t,...o})});H.displayName="FormLabel";const U=d.forwardRef(({bsPrefix:s,className:r,id:n,...a},l)=>{const{controlId:t}=d.useContext(k);return s=v(s,"form-range"),e.jsx("input",{...a,type:"range",ref:l,className:w(r,s),id:n||t})});U.displayName="FormRange";const Z=d.forwardRef(({bsPrefix:s,size:r,htmlSize:n,className:a,isValid:l=!1,isInvalid:t=!1,id:o,...c},m)=>{const{controlId:x}=d.useContext(k);return s=v(s,"form-select"),e.jsx("select",{...c,size:n,ref:m,className:w(a,s,r&&`${s}-${r}`,l&&"is-valid",t&&"is-invalid"),id:o||x})});Z.displayName="FormSelect";const q=d.forwardRef(({bsPrefix:s,className:r,as:n="small",muted:a,...l},t)=>(s=v(s,"form-text"),e.jsx(n,{...l,ref:t,className:w(r,s,a&&"text-muted")})));q.displayName="FormText";const K=d.forwardRef((s,r)=>e.jsx(I,{...s,ref:r,type:"switch"}));K.displayName="Switch";const oe=Object.assign(K,{Input:I.Input,Label:I.Label}),Q=d.forwardRef(({bsPrefix:s,className:r,children:n,controlId:a,label:l,...t},o)=>(s=v(s,"form-floating"),e.jsxs(S,{ref:o,className:w(r,s),controlId:a,...t,children:[n,e.jsx("label",{htmlFor:a,children:l})]})));Q.displayName="FloatingLabel";const ie={_ref:F.any,validated:F.bool,as:F.elementType},V=d.forwardRef(({className:s,validated:r,as:n="form",...a},l)=>e.jsx(n,{...a,ref:l,className:w(s,r&&"was-validated")}));V.displayName="Form";V.propTypes=ie;const B=Object.assign(V,{Group:S,Control:le,Floating:J,Check:I,Switch:oe,Label:H,Text:q,Range:U,Select:Z,FloatingLabel:Q}),ce={right:0,down:90,left:180,up:-90},y=L.forwardRef(({direction:s="right",size:r=24,strokeWidth:n=2,color:a="currentColor",rotate:l=0,className:t="",title:o="Arc Marker",ariaLabel:c,style:m={},visible:x=!0,...u},N)=>{const f=`rotate(${(ce[s]??0)+Number(l||0)} 12 12)`;return e.jsxs("svg",{ref:N,width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:c?"img":"presentation","aria-label":c,className:`inline-block ${t}`,style:{...m,visibility:x?"visible":"hidden"},...u,children:[o?e.jsx("title",{children:o}):null,e.jsxs("g",{transform:f,children:[e.jsx("line",{x1:"3",y1:"12",x2:"17",y2:"12",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("polyline",{points:"11 6 17 12 11 18",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})]})});y.displayName="ArcMarker";const C=L.forwardRef(({variant:s="line",size:r=24,strokeWidth:n=2,color:a="currentColor",rotate:l=0,className:t="",title:o="Ward Marker",ariaLabel:c,style:m={},visible:x=!0,...u},N)=>{const h=`rotate(${l} 12 12)`;return e.jsxs("svg",{ref:N,width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:c?"img":"presentation","aria-label":c,className:`inline-block ${t}`,style:{...m,visibility:x?"visible":"hidden"},...u,children:[o?e.jsx("title",{children:o}):null,e.jsxs("g",{transform:h,children:[s==="line"&&e.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),s==="corner"&&e.jsx("polyline",{points:"6,15 15,15 15,6",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})]})});C.displayName="WardMarker";const Y=L.forwardRef(({size:s=24,radius:r=null,strokeWidth:n=2,fill:a="currentColor",stroke:l="none",className:t="",title:o="Character Marker",ariaLabel:c,style:m={},visible:x=!0,...u},N)=>{if(!x)return null;const j=24,h=j/2,f=j/2,g=r??6.5;return e.jsxs("svg",{ref:N,width:s,height:s,viewBox:`0 0 ${j} ${j}`,xmlns:"http://www.w3.org/2000/svg",role:c?"img":"presentation","aria-label":c,className:`inline-block ${t}`,style:m,...u,children:[o?e.jsx("title",{children:o}):null,e.jsx("circle",{cx:h,cy:f,r:g,fill:a,stroke:l,strokeWidth:n})]})});Y.displayName="CharacterMarker";const A=({cardObject:s})=>e.jsxs(E,{fluid:!0,children:[e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:e.jsx(C,{variant:"corner",rotate:180,visible:s.wards[0]})}),e.jsx(i,{className:"text-center",children:e.jsx(C,{rotate:0,visible:s.wards[1]})}),e.jsx(i,{className:"text-end",children:e.jsx(C,{variant:"corner",rotate:-90,visible:s.wards[2]})})]}),e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:" "}),e.jsx(i,{children:e.jsx(y,{rotate:225,visible:s.arcs[0]})}),e.jsx(i,{children:" "})]})}),e.jsx(i,{className:"text-center",children:e.jsx(y,{rotate:-90,visible:s.arcs[1]})}),e.jsx(i,{className:"text-end",children:e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:" "}),e.jsx(i,{children:e.jsx(y,{rotate:-45,visible:s.arcs[2]})}),e.jsx(i,{children:" "})]})})]}),e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:e.jsx(C,{rotate:90,visible:s.wards[3]})}),e.jsx(i,{children:e.jsx(y,{rotate:180,visible:s.arcs[3]})}),e.jsx(i,{children:" "})]})}),e.jsx(i,{className:"text-center",children:e.jsx(Y,{visible:s.character[0]})}),e.jsx(i,{className:"text-end",children:e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:" "}),e.jsx(i,{children:e.jsx(y,{rotate:0,visible:s.arcs[4]})}),e.jsx(i,{children:e.jsx(C,{rotate:90,visible:s.wards[4]})})]})})]}),e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:" "}),e.jsx(i,{children:e.jsx(y,{rotate:135,visible:s.arcs[5]})}),e.jsx(i,{children:" "})]})}),e.jsx(i,{className:"text-center",children:e.jsx(y,{rotate:90,visible:s.arcs[6]})}),e.jsx(i,{className:"text-end",children:e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:" "}),e.jsx(i,{children:e.jsx(y,{rotate:45,visible:s.arcs[7]})}),e.jsx(i,{children:" "})]})})]}),e.jsxs(p,{className:"g-0",children:[e.jsx(i,{children:e.jsx(C,{variant:"corner",rotate:90,visible:s.wards[5]})}),e.jsx(i,{className:"text-center",children:e.jsx(C,{rotate:0,visible:s.wards[6]})}),e.jsx(i,{className:"text-end",children:e.jsx(C,{variant:"corner",rotate:0,visible:s.wards[7]})})]})]});A.propTypes={cardObject:F.object};const de=({cardObject:s,onChange:r})=>{const n=d.useId();if(!s)return null;const a=(t,o)=>{const c={...s};c[t]=[...c[t]],c[t][o]=!c[t][o],r(c)},l=(t,o)=>e.jsx(B.Group,{className:"mb-3",controlId:`${t}-form-${n}`,children:o.map((c,m)=>e.jsx(B.Check,{className:"text-capitalize",type:"checkbox",id:`${t}-${n}-${m}`,checked:c,onChange:()=>a(t,m),label:e.jsx("span",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center"},children:`${t} ${m+1}`})},`${t}-${n}-${m}`))});return e.jsx(B,{children:e.jsx(E,{children:e.jsxs(p,{children:[e.jsx(i,{children:l("arcs",s.arcs)}),e.jsx(i,{children:l("wards",s.wards)})]})})})};function xe({cardObjects:s}){const n=((a,l)=>{const t=[];for(let o=0;o<a.length;o+=l)t.push(a.slice(o,o+l));return t})(s,3);return e.jsx("div",{className:"print-view",children:e.jsx(E,{fluid:!0,children:n.map((a,l)=>e.jsx(p,{className:"mb-4",children:a.map((t,o)=>e.jsx(i,{xs:4,className:"d-flex justify-content-center",children:e.jsx("div",{className:"print-card card-preview",children:e.jsx(A,{cardObject:t})})},`col-${l}-${o}`))},`row-${l}`))})})}function je({}){return[{title:"Arc Ward Build"},{name:"description",content:"Arc Ward Build"}]}const W=s=>JSON.parse(JSON.stringify(s)),ue=re(function(){const r={arcs:[!0,!0,!0,!0,!0,!0,!0,!0],wards:[!0,!0,!0,!0,!0,!0,!0,!0],character:[!0]},[n,a]=d.useState([W(r)]),[l,t]=d.useState(!1),[o,c]=d.useState([!0]),m=(j,h)=>{const f=[...n];f[j]=h,a(f)},x=()=>{a([...n,W(r)]),c([...o,!0])},u=j=>{const h=n.filter((R,g)=>g!==j),f=o.filter((R,g)=>g!==j);a(h),c(f)},N=j=>{const h=[...o];h[j]=!h[j],c(h)};return e.jsx("div",{id:"build",children:e.jsx(E,{children:l?e.jsxs(e.Fragment,{children:[e.jsx(xe,{cardObjects:n}),e.jsx(p,{className:"mt-3",children:e.jsxs(i,{children:[e.jsx($,{variant:"primary",onClick:()=>window.print(),children:"Print"}),e.jsx($,{className:"ms-2",variant:"secondary",onClick:()=>t(!1),children:"Back to Edit View"})]})})]}):e.jsxs(e.Fragment,{children:[n.map((j,h)=>e.jsxs(p,{className:"mb-3 align-items-start",children:[e.jsxs(i,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxs("h5",{className:"mb-0",children:["Card ",h+1]}),e.jsx($,{size:"sm",variant:"outline-primary",onClick:()=>N(h),children:o[h]?"Hide":"Show"})]}),o[h]&&e.jsxs(e.Fragment,{children:[e.jsx(de,{cardObject:j,onChange:f=>m(h,f)}),e.jsx("div",{className:"text-right mt-2",children:e.jsx($,{variant:"danger",size:"sm",onClick:()=>u(h),disabled:n.length<=1,children:"Remove"})})]})]}),e.jsx(i,{className:"d-flex justify-content-center",children:e.jsx("div",{className:"card-preview",children:e.jsx(A,{cardObject:j})})})]},`card-${h}`)),e.jsx(p,{children:e.jsxs(i,{children:[e.jsx($,{onClick:x,children:"Add Card"}),e.jsx($,{className:"ms-2",variant:"secondary",onClick:()=>t(!0),children:"Switch to Print View"})]})})]})})})});export{ue as default,je as meta};
