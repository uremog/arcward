import{a as c,j as e,aY as S,a2 as me}from"./chunk-B7RQU5TL-D-2o7E4h.js";import{e as p,C as he,c as j,f as ue,u as je,P as k,k as d,j as b,R as f}from"./Row-D4iuzOLX.js";import"./index-wirpkLcK.js";function U(s,r){return Array.isArray(s)?s.includes(r):s===r}const F=c.createContext({});F.displayName="AccordionContext";const V=c.forwardRef(({as:s="div",bsPrefix:r,className:n,children:a,eventKey:o,...t},l)=>{const{activeEventKey:i}=c.useContext(F);return r=p(r,"accordion-collapse"),e.jsx(he,{ref:l,in:U(i,o),...t,className:j(n,r),children:e.jsx(s,{children:c.Children.only(a)})})});V.displayName="AccordionCollapse";const T=c.createContext({eventKey:""});T.displayName="AccordionItemContext";const Y=c.forwardRef(({as:s="div",bsPrefix:r,className:n,onEnter:a,onEntering:o,onEntered:t,onExit:l,onExiting:i,onExited:x,...m},h)=>{r=p(r,"accordion-body");const{eventKey:u}=c.useContext(T);return e.jsx(V,{eventKey:u,onEnter:a,onEntering:o,onEntered:t,onExit:l,onExiting:i,onExited:x,children:e.jsx(s,{ref:h,...m,className:j(n,r)})})});Y.displayName="AccordionBody";function pe(s,r){const{activeEventKey:n,onSelect:a,alwaysOpen:o}=c.useContext(F);return t=>{let l=s===n?null:s;o&&(Array.isArray(n)?n.includes(s)?l=n.filter(i=>i!==s):l=[...n,s]:l=[s]),a==null||a(l,t),r==null||r(t)}}const _=c.forwardRef(({as:s="button",bsPrefix:r,className:n,onClick:a,...o},t)=>{r=p(r,"accordion-button");const{eventKey:l}=c.useContext(T),i=pe(l,a),{activeEventKey:x}=c.useContext(F);return s==="button"&&(o.type="button"),e.jsx(s,{ref:t,onClick:i,...o,"aria-expanded":Array.isArray(x)?x.includes(l):l===x,className:j(n,r,!U(x,l)&&"collapsed")})});_.displayName="AccordionButton";const Z=c.forwardRef(({as:s="h2","aria-controls":r,bsPrefix:n,className:a,children:o,onClick:t,...l},i)=>(n=p(n,"accordion-header"),e.jsx(s,{ref:i,...l,className:j(a,n),children:e.jsx(_,{onClick:t,"aria-controls":r,children:o})})));Z.displayName="AccordionHeader";const q=c.forwardRef(({as:s="div",bsPrefix:r,className:n,eventKey:a,...o},t)=>{r=p(r,"accordion-item");const l=c.useMemo(()=>({eventKey:a}),[a]);return e.jsx(T.Provider,{value:l,children:e.jsx(s,{ref:t,...o,className:j(n,r)})})});q.displayName="AccordionItem";const O=c.forwardRef((s,r)=>{const{as:n="div",activeKey:a,bsPrefix:o,className:t,onSelect:l,flush:i,alwaysOpen:x,...m}=ue(s,{activeKey:"onSelect"}),h=p(o,"accordion"),u=c.useMemo(()=>({activeEventKey:a,onSelect:l,alwaysOpen:x}),[a,l,x]);return e.jsx(F.Provider,{value:u,children:e.jsx(n,{ref:r,...m,className:j(t,h,i&&`${h}-flush`)})})});O.displayName="Accordion";const I=Object.assign(O,{Button:_,Collapse:V,Item:q,Header:Z,Body:Y}),$=c.forwardRef(({as:s,bsPrefix:r,variant:n="primary",size:a,active:o=!1,disabled:t=!1,className:l,...i},x)=>{const m=p(r,"btn"),[h,{tagName:u}]=je({tagName:s,disabled:t,...i}),y=u;return e.jsx(y,{...h,...i,ref:x,disabled:t,className:j(l,m,o&&"active",n&&`${m}-${n}`,a&&`${m}-${a}`,i.href&&t&&"disabled")})});$.displayName="Button";function fe(s,r){return c.Children.toArray(s).some(n=>c.isValidElement(n)&&n.type===r)}const ye={type:k.string,tooltip:k.bool,as:k.elementType},L=c.forwardRef(({as:s="div",className:r,type:n="valid",tooltip:a=!1,...o},t)=>e.jsx(s,{...o,ref:t,className:j(r,`${n}-${a?"tooltip":"feedback"}`)}));L.displayName="Feedback";L.propTypes=ye;const w=c.createContext({}),D=c.forwardRef(({id:s,bsPrefix:r,className:n,type:a="checkbox",isValid:o=!1,isInvalid:t=!1,as:l="input",...i},x)=>{const{controlId:m}=c.useContext(w);return r=p(r,"form-check-input"),e.jsx(l,{...i,ref:x,type:a,id:s||m,className:j(n,r,o&&"is-valid",t&&"is-invalid")})});D.displayName="FormCheckInput";const E=c.forwardRef(({bsPrefix:s,className:r,htmlFor:n,...a},o)=>{const{controlId:t}=c.useContext(w);return s=p(s,"form-check-label"),e.jsx("label",{...a,ref:o,htmlFor:n||t,className:j(r,s)})});E.displayName="FormCheckLabel";const Q=c.forwardRef(({id:s,bsPrefix:r,bsSwitchPrefix:n,inline:a=!1,reverse:o=!1,disabled:t=!1,isValid:l=!1,isInvalid:i=!1,feedbackTooltip:x=!1,feedback:m,feedbackType:h,className:u,style:y,title:C="",type:g="checkbox",label:A,children:R,as:le="input",...ce},ie)=>{r=p(r,"form-check"),n=p(n,"form-switch");const{controlId:K}=c.useContext(w),de=c.useMemo(()=>({controlId:s||K}),[K,s]),X=!R&&A!=null&&A!==!1||fe(R,E),xe=e.jsx(D,{...ce,type:g==="switch"?"checkbox":g,ref:ie,isValid:l,isInvalid:i,disabled:t,as:le});return e.jsx(w.Provider,{value:de,children:e.jsx("div",{style:y,className:j(u,X&&r,a&&`${r}-inline`,o&&`${r}-reverse`,g==="switch"&&n),children:R||e.jsxs(e.Fragment,{children:[xe,X&&e.jsx(E,{title:C,children:A}),m&&e.jsx(L,{type:h,tooltip:x,children:m})]})})})});Q.displayName="FormCheck";const B=Object.assign(Q,{Input:D,Label:E}),z=c.forwardRef(({bsPrefix:s,type:r,size:n,htmlSize:a,id:o,className:t,isValid:l=!1,isInvalid:i=!1,plaintext:x,readOnly:m,as:h="input",...u},y)=>{const{controlId:C}=c.useContext(w);return s=p(s,"form-control"),e.jsx(h,{...u,type:r,size:a,ref:y,readOnly:m,id:o||C,className:j(t,x?`${s}-plaintext`:s,n&&`${s}-${n}`,r==="color"&&`${s}-color`,l&&"is-valid",i&&"is-invalid")})});z.displayName="FormControl";const Ne=Object.assign(z,{Feedback:L}),P=c.forwardRef(({className:s,bsPrefix:r,as:n="div",...a},o)=>(r=p(r,"form-floating"),e.jsx(n,{ref:o,className:j(s,r),...a})));P.displayName="FormFloating";const W=c.forwardRef(({controlId:s,as:r="div",...n},a)=>{const o=c.useMemo(()=>({controlId:s}),[s]);return e.jsx(w.Provider,{value:o,children:e.jsx(r,{...n,ref:a})})});W.displayName="FormGroup";const ee=c.forwardRef(({as:s="label",bsPrefix:r,column:n=!1,visuallyHidden:a=!1,className:o,htmlFor:t,...l},i)=>{const{controlId:x}=c.useContext(w);r=p(r,"form-label");let m="col-form-label";typeof n=="string"&&(m=`${m} ${m}-${n}`);const h=j(o,r,a&&"visually-hidden",n&&m);return t=t||x,n?e.jsx(d,{ref:i,as:"label",className:h,htmlFor:t,...l}):e.jsx(s,{ref:i,className:h,htmlFor:t,...l})});ee.displayName="FormLabel";const se=c.forwardRef(({bsPrefix:s,className:r,id:n,...a},o)=>{const{controlId:t}=c.useContext(w);return s=p(s,"form-range"),e.jsx("input",{...a,type:"range",ref:o,className:j(r,s),id:n||t})});se.displayName="FormRange";const re=c.forwardRef(({bsPrefix:s,size:r,htmlSize:n,className:a,isValid:o=!1,isInvalid:t=!1,id:l,...i},x)=>{const{controlId:m}=c.useContext(w);return s=p(s,"form-select"),e.jsx("select",{...i,size:n,ref:x,className:j(a,s,r&&`${s}-${r}`,o&&"is-valid",t&&"is-invalid"),id:l||m})});re.displayName="FormSelect";const ne=c.forwardRef(({bsPrefix:s,className:r,as:n="small",muted:a,...o},t)=>(s=p(s,"form-text"),e.jsx(n,{...o,ref:t,className:j(r,s,a&&"text-muted")})));ne.displayName="FormText";const te=c.forwardRef((s,r)=>e.jsx(B,{...s,ref:r,type:"switch"}));te.displayName="Switch";const ve=Object.assign(te,{Input:B.Input,Label:B.Label}),ae=c.forwardRef(({bsPrefix:s,className:r,children:n,controlId:a,label:o,...t},l)=>(s=p(s,"form-floating"),e.jsxs(W,{ref:l,className:j(r,s),controlId:a,...t,children:[n,e.jsx("label",{htmlFor:a,children:o})]})));ae.displayName="FloatingLabel";const we={_ref:k.any,validated:k.bool,as:k.elementType},G=c.forwardRef(({className:s,validated:r,as:n="form",...a},o)=>e.jsx(n,{...a,ref:o,className:j(s,r&&"was-validated")}));G.displayName="Form";G.propTypes=we;const M=Object.assign(G,{Group:W,Control:Ne,Floating:P,Check:B,Switch:ve,Label:ee,Text:ne,Range:se,Select:re,FloatingLabel:ae}),Ce={right:0,down:90,left:180,up:-90},N=S.forwardRef(({direction:s="right",size:r=24,strokeWidth:n=2,color:a="currentColor",rotate:o=0,className:t="",title:l="Arc Marker",ariaLabel:i,style:x={},visible:m=!0,...h},u)=>{const g=`rotate(${(Ce[s]??0)+Number(o||0)} 12 12)`;return e.jsxs("svg",{ref:u,width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:i?"img":"presentation","aria-label":i,className:`inline-block ${t}`,style:{...x,visibility:m?"visible":"hidden"},...h,children:[l?e.jsx("title",{children:l}):null,e.jsxs("g",{transform:g,children:[e.jsx("line",{x1:"3",y1:"12",x2:"17",y2:"12",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("polyline",{points:"11 6 17 12 11 18",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})]})});N.displayName="ArcMarker";const v=S.forwardRef(({variant:s="line",size:r=24,strokeWidth:n=2,color:a="currentColor",rotate:o=0,className:t="",title:l="Ward Marker",ariaLabel:i,style:x={},visible:m=!0,...h},u)=>{const C=`rotate(${o} 12 12)`;return e.jsxs("svg",{ref:u,width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:i?"img":"presentation","aria-label":i,className:`inline-block ${t}`,style:{...x,visibility:m?"visible":"hidden"},...h,children:[l?e.jsx("title",{children:l}):null,e.jsxs("g",{transform:C,children:[s==="line"&&e.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),s==="corner"&&e.jsx("polyline",{points:"6,15 15,15 15,6",stroke:a,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})]})});v.displayName="WardMarker";const oe=S.forwardRef(({size:s=24,radius:r=null,strokeWidth:n=2,fill:a="currentColor",stroke:o="none",className:t="",title:l="Character Marker",ariaLabel:i,style:x={},visible:m=!0,...h},u)=>{if(!m)return null;const y=24,C=y/2,g=y/2,R=r??6.5;return e.jsxs("svg",{ref:u,width:s,height:s,viewBox:`0 0 ${y} ${y}`,xmlns:"http://www.w3.org/2000/svg",role:i?"img":"presentation","aria-label":i,className:`inline-block ${t}`,style:x,...h,children:[l?e.jsx("title",{children:l}):null,e.jsx("circle",{cx:C,cy:g,r:R,fill:a,stroke:o,strokeWidth:n})]})});oe.displayName="CharacterMarker";const H=({cardObject:s})=>e.jsxs(b,{fluid:!0,children:[e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:e.jsx(v,{variant:"corner",rotate:180,visible:s.wards[0]})}),e.jsx(d,{className:"text-center",children:e.jsx(v,{rotate:0,visible:s.wards[1]})}),e.jsx(d,{className:"text-end",children:e.jsx(v,{variant:"corner",rotate:-90,visible:s.wards[2]})})]}),e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:" "}),e.jsx(d,{children:e.jsx(N,{rotate:225,visible:s.arcs[0]})}),e.jsx(d,{children:" "})]})}),e.jsx(d,{className:"text-center",children:e.jsx(N,{rotate:-90,visible:s.arcs[1]})}),e.jsx(d,{className:"text-end",children:e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:" "}),e.jsx(d,{children:e.jsx(N,{rotate:-45,visible:s.arcs[2]})}),e.jsx(d,{children:" "})]})})]}),e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:e.jsx(v,{rotate:90,visible:s.wards[3]})}),e.jsx(d,{children:e.jsx(N,{rotate:180,visible:s.arcs[3]})}),e.jsx(d,{children:" "})]})}),e.jsx(d,{className:"text-center",children:e.jsx(oe,{visible:s.character[0]})}),e.jsx(d,{className:"text-end",children:e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:" "}),e.jsx(d,{children:e.jsx(N,{rotate:0,visible:s.arcs[4]})}),e.jsx(d,{children:e.jsx(v,{rotate:90,visible:s.wards[4]})})]})})]}),e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:" "}),e.jsx(d,{children:e.jsx(N,{rotate:135,visible:s.arcs[5]})}),e.jsx(d,{children:" "})]})}),e.jsx(d,{className:"text-center",children:e.jsx(N,{rotate:90,visible:s.arcs[6]})}),e.jsx(d,{className:"text-end",children:e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:" "}),e.jsx(d,{children:e.jsx(N,{rotate:45,visible:s.arcs[7]})}),e.jsx(d,{children:" "})]})})]}),e.jsxs(f,{className:"g-0",children:[e.jsx(d,{children:e.jsx(v,{variant:"corner",rotate:90,visible:s.wards[5]})}),e.jsx(d,{className:"text-center",children:e.jsx(v,{rotate:0,visible:s.wards[6]})}),e.jsx(d,{className:"text-end",children:e.jsx(v,{variant:"corner",rotate:0,visible:s.wards[7]})})]})]});H.propTypes={cardObject:k.object};const ge=({cardObject:s,onChange:r})=>{const n=c.useId();if(!s)return null;const a=(t,l)=>{const i={...s};i[t]=[...i[t]],i[t][l]=!i[t][l],r(i)},o=(t,l)=>e.jsx(M.Group,{className:"mb-3",controlId:`${t}-form-${n}`,children:l.map((i,x)=>e.jsx(M.Check,{className:"text-capitalize",type:"checkbox",id:`${t}-${n}-${x}`,checked:i,onChange:()=>a(t,x),label:e.jsx("span",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center"},children:`${t} ${x+1}`})},`${t}-${n}-${x}`))});return e.jsx(M,{children:e.jsx(b,{children:e.jsxs(f,{children:[e.jsx(d,{children:o("arcs",s.arcs)}),e.jsx(d,{children:o("wards",s.wards)})]})})})};function ke({cardObjects:s}){const n=((a,o)=>{const t=[];for(let l=0;l<a.length;l+=o)t.push(a.slice(l,l+o));return t})(s,3);return e.jsx("div",{className:"print-view",children:e.jsx(b,{fluid:!0,children:n.map((a,o)=>e.jsx(f,{className:"mb-4",children:a.map((t,l)=>e.jsx(d,{xs:4,className:"d-flex justify-content-center",children:e.jsx("div",{className:"print-card",style:{width:"250px"},children:e.jsx(H,{cardObject:t})})},`col-${o}-${l}`))},`row-${o}`))})})}function Ae({}){return[{title:"Arc Ward Build"},{name:"description",content:"Arc Ward Build"}]}const J=s=>JSON.parse(JSON.stringify(s)),Ie=me(function(){const r={arcs:[!0,!0,!0,!0,!0,!0,!0,!0],wards:[!0,!0,!0,!0,!0,!0,!0,!0],character:[!0]},[n,a]=c.useState([J(r)]),[o,t]=c.useState(!1),l=(m,h)=>{const u=[...n];u[m]=h,a(u)},i=()=>{a([...n,J(r)])},x=m=>{const h=n.filter((u,y)=>y!==m);a(h)};return e.jsx("div",{id:"build",children:e.jsx(b,{children:o?e.jsxs(e.Fragment,{children:[e.jsx(ke,{cardObjects:n}),e.jsx(f,{className:"mt-3",children:e.jsxs(d,{children:[e.jsx($,{variant:"primary",onClick:()=>window.print(),children:"Print"}),e.jsx($,{className:"ms-2",variant:"secondary",onClick:()=>t(!1),children:"Back to Edit View"})]})})]}):e.jsxs(e.Fragment,{children:[n.map((m,h)=>e.jsxs(f,{className:"mb-2 align-items-center",children:[e.jsx(d,{children:e.jsx(I,{defaultActiveKey:"0",children:e.jsxs(I.Item,{eventKey:"0",children:[e.jsxs(I.Header,{children:["Card ",h+1]}),e.jsxs(I.Body,{children:[e.jsx(ge,{cardObject:m,onChange:u=>l(h,u)}),e.jsx("div",{className:"text-right mt-2",children:e.jsx($,{variant:"danger",size:"sm",onClick:()=>x(h),disabled:n.length<=1,children:"Remove"})})]})]})})}),e.jsx(d,{className:"d-flex justify-content-center",children:e.jsx("div",{style:{width:"250px"},children:e.jsx(H,{cardObject:m})})})]},`card-${h}`)),e.jsx(f,{children:e.jsxs(d,{children:[e.jsx($,{onClick:i,children:"Add Card"}),e.jsx($,{className:"ms-2",variant:"secondary",onClick:()=>t(!0),children:"Switch to Print View"})]})})]})})})});export{Ie as default,Ae as meta};
